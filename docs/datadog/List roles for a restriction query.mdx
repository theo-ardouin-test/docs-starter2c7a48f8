---
id: list-restriction-query-roles
title: "List roles for a restriction query"
description: "Returns all roles that have a given restriction query."
sidebar_label: "List roles for a restriction query"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/datadog/datadog-api-v-2-collection
custom_edit_url: null
---

<h1 className={"openapi__heading"}>List roles for a restriction query</h1>

<MethodEndpoint method={"get"} path={"/api/v2/logs/config/restriction_queries/{restriction_query_id}/roles"}></MethodEndpoint>


Returns all roles that have a given restriction query.
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"The ID of the restriction query.","in":"path","name":"restriction_query_id","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"Size for a given page.","in":"query","name":"page[size]","required":false,"schema":{"default":10,"example":10,"format":"int64","type":"integer"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Specific page number to return.","in":"query","name":"page[number]","required":false,"schema":{"default":0,"example":0,"format":"int64","type":"integer"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>data</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>Array of roles.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>attributes</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>Attributes of the role for a restriction query.</div><SchemaItem collapsible={false} name={"name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The role name.","example":"Datadog Admin Role","type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"ID of the role.","example":"<ROLE_ID>","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"default":"roles","description":"Role resource type.","example":"roles","readOnly":true,"type":"string"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"data\": [\n    {\n      \"attributes\": {\n        \"name\": \"Datadog Admin Role\"\n      },\n      \"id\": \"<ROLE_ID>\",\n      \"type\": \"roles\"\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>Bad Request</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>Authentication error</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"404"} value={"404"}><div>Not found</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      