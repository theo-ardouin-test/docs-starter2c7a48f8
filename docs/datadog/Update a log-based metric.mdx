---
id: update-logs-metric
title: "Update a log-based metric"
description: "Update a specific log-based metric from your organization."
sidebar_label: "Update a log-based metric"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/datadog/datadog-api-v-2-collection
custom_edit_url: null
---

<h1 className={"openapi__heading"}>Update a log-based metric</h1>

<MethodEndpoint method={"patch"} path={"/api/v2/logs/config/metrics/{metric_id}"}></MethodEndpoint>


Update a specific log-based metric from your organization.Returns the log-based metric object from the request body when the request is successful.
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"The name of the log-based metric.","in":"path","name":"metric_id","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div className={"body-description-container"}><div className={"body-description"}>New definition of the log-based metric.</div></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>data</strong><span className={"openapi-schema__name"}> object</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The new log-based metric properties.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>attributes</strong><span className={"openapi-schema__name"}> object</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The log-based metric properties that will be updated.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>filter</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The log-based metric filter. Logs matching this filter will be aggregated in this metric.</div><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"default":"*","description":"The search query - following the log search syntax.","example":"service:web* AND @http.status_code:[200 TO 299]","type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>group_by</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The rules for the group by.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}>Array [</div></li><SchemaItem collapsible={false} name={"path"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The path to the value the log-based metric will be aggregated over.","example":"@http.status_code","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"tag_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Eventual name of the tag that gets created. By default, the path attribute is used as the tag name.","example":"status_code","type":"string"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"type"} required={true} schemaName={"LogsMetricType"} qualifierMessage={"**Possible values:** [`logs_metrics`]"} schema={{"default":"logs_metrics","description":"The type of the resource. The value should always be logs_metrics.","enum":["logs_metrics"],"example":"logs_metrics","type":"string","x-enum-varnames":["LOGS_METRICS"],"title":"LogsMetricType"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The log-based metric properties.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>attributes</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The object describing a Datadog log-based metric.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>compute</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The compute rule to compute the log-based metric.</div><SchemaItem collapsible={false} name={"aggregation_type"} required={false} schemaName={"LogsMetricResponseComputeAggregationType"} qualifierMessage={"**Possible values:** [`count`, `distribution`]"} schema={{"description":"The type of aggregation to use.","enum":["count","distribution"],"example":"distribution","type":"string","x-enum-varnames":["COUNT","DISTRIBUTION"],"title":"LogsMetricResponseComputeAggregationType"}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The path to the value the log-based metric will aggregate on (only used if the aggregation type is a \"distribution\").","example":"@duration","type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>filter</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The log-based metric filter. Logs matching this filter will be aggregated in this metric.</div><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The search query - following the log search syntax.","example":"service:web* AND @http.status_code:[200 TO 299]","type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>group_by</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>The rules for the group by.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}>Array [</div></li><SchemaItem collapsible={false} name={"path"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The path to the value the log-based metric will be aggregated over.","example":"@http.status_code","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"tag_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Eventual name of the tag that gets created. By default, the path attribute is used as the tag name.","example":"status_code","type":"string"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"LogsMetricID"} qualifierMessage={undefined} schema={{"description":"The name of the log-based metric.","example":"logs.page.load.count","type":"string","title":"LogsMetricID"}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"LogsMetricType"} qualifierMessage={"**Possible values:** [`logs_metrics`]"} schema={{"default":"logs_metrics","description":"The type of the resource. The value should always be logs_metrics.","enum":["logs_metrics"],"example":"logs_metrics","type":"string","x-enum-varnames":["LOGS_METRICS"],"title":"LogsMetricType"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"data\": {\n    \"attributes\": {\n      \"compute\": {\n        \"aggregation_type\": \"distribution\",\n        \"path\": \"@duration\"\n      },\n      \"filter\": {\n        \"query\": \"service:web* AND @http.status_code:[200 TO 299]\"\n      },\n      \"group_by\": [\n        {\n          \"path\": \"@http.status_code\",\n          \"tag_name\": \"status_code\"\n        }\n      ]\n    },\n    \"id\": \"logs.page.load.count\",\n    \"type\": \"logs_metrics\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>Bad Request</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>Not Authorized</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"404"} value={"404"}><div>Not Found</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"429"} value={"429"}><div>Too many requests</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      