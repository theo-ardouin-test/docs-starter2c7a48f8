---
id: create-restriction-query
title: "Create a restriction query"
description: "Create a new restriction query for your organization."
sidebar_label: "Create a restriction query"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/datadog/datadog-api-v-2-collection
custom_edit_url: null
---

<h1 className={"openapi__heading"}>Create a restriction query</h1>

<MethodEndpoint method={"post"} path={"/api/v2/logs/config/restriction_queries"}></MethodEndpoint>


Create a new restriction query for your organization.
## Request
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div className={"body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>Data related to the creation of a restriction query.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>attributes</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>Attributes of the created restriction query.</div><SchemaItem collapsible={false} name={"restriction_query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The restriction query.","example":"env:sandbox","type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"LogsRestrictionQueriesType"} qualifierMessage={"**Possible values:** [`logs_restriction_queries`]"} schema={{"default":"logs_restriction_queries","description":"Restriction query resource type.","enum":["logs_restriction_queries"],"example":"logs_restriction_queries","type":"string","x-enum-varnames":["LOGS_RESTRICTION_QUERIES"],"title":"LogsRestrictionQueriesType"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>Restriction query object returned by the API.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>attributes</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"5px"}} className={"schema-description-container"}><div className={"schema-description"}>Attributes of the restriction query.</div><SchemaItem collapsible={false} name={"created_at"} required={false} schemaName={"date-time"} qualifierMessage={undefined} schema={{"description":"Creation time of the restriction query.","example":"2020-03-17T21:06:44Z","format":"date-time","readOnly":true,"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"modified_at"} required={false} schemaName={"date-time"} qualifierMessage={undefined} schema={{"description":"Time of last restriction query modification.","example":"2020-03-17T21:15:15Z","format":"date-time","readOnly":true,"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"restriction_query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The query that defines the restriction. Only the content matching the query can be returned.","example":"env:sandbox","type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"ID of the restriction query.","example":"79a0e60a-644a-11ea-ad29-43329f7f58b5","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"default":"logs_restriction_queries","description":"Restriction queries type.","example":"logs_restriction_queries","readOnly":true,"type":"string"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"data\": {\n    \"attributes\": {\n      \"created_at\": \"2020-03-17T21:06:44Z\",\n      \"modified_at\": \"2020-03-17T21:15:15Z\",\n      \"restriction_query\": \"env:sandbox\"\n    },\n    \"id\": \"79a0e60a-644a-11ea-ad29-43329f7f58b5\",\n    \"type\": \"logs_restriction_queries\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>Bad Request</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>Authentication error</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}} className={"response-body-description-container"}></div><ul style={{"marginLeft":"5px"}}><SchemaItem collapsible={false} name={"errors"} required={true} schemaName={"string[]"} qualifierMessage={undefined} schema={{"description":"A list of errors.","items":{"description":"A list of items.","example":"Bad Request","type":"string"},"type":"array"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errors\": [\n    \"Bad Request\"\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      